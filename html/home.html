<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Farel-Brat API - Generate Brat Images">
    <meta name="theme-color" content="#1a202c">
    <title>Farel-Brat API</title>
    <link rel="icon" href="/assets/icon.png" type="image/jpeg">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu+Mono:ital,wght@0,400;0,700;1,400;1,700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script>
  tailwind.config = {
    darkMode: 'class',
    theme: {
      extend: {
        fontFamily: {
          'mono': ['Ubuntu Mono', 'monospace'],
          'sans': ['Inter', 'system-ui', 'sans-serif']
        }
      }
    }
  }
</script>

    <style>
        ::-webkit-scrollbar {
            display: none !important;
        }
        .loader {
            width: 28px;
            height: 28px;
            border: 2px solid #4a5568;
            border-top: 2px solid #e2e8f0;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        .brat-gradient {
            background: linear-gradient(135deg, #e91e63 0%, #9c27b0 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .success-check {
            color: #4caf50;
            font-size: 48px;
        }
        .plane-animation {
            animation: fly 2s ease-in-out infinite;
        }
        @keyframes fly {
            0%, 100% { transform: translateY(0) translateX(0); }
            50% { transform: translateY(-10px) translateX(5px); }
        }
        .generator-box {
            background: linear-gradient(135deg, rgba(233, 30, 99, 0.1) 0%, rgba(156, 39, 176, 0.1) 100%);
            border: 1px solid rgba(233, 30, 99, 0.3);
        }
        .api-badge {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .floating {
            animation: floating 3s ease-in-out infinite;
        }
        @keyframes floating {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        .pulse-ring {
            animation: pulse-ring 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        @keyframes pulse-ring {
            0% { transform: scale(0.8); opacity: 0.8; }
            100% { transform: scale(1.5); opacity: 0; }
        }
    </style>
</head>
<body class="bg-gray-900 text-slate-300 antialiased font-mono min-h-screen">
    <main class="max-w-2xl mx-auto px-8 py-16">

<div class="text-center mb-8">
    <div class="flex flex-col items-center gap-4 mb-4">
        <div class="relative">
            <div class="absolute inset-0 bg-pink-500/20 rounded-full blur-xl"></div>
            <img src="/assets/icon.png" class="w-16 md:w-12 relative floating">
        </div>
        <h1 class="text-3xl md:text-4xl font-bold brat-gradient">Farel-Brat API</h1>
        <p class="text-pink-300/70 text-sm">Generate Brat character images via API</p>
    </div>
    
    <div class="flex justify-center gap-3 mb-4 text-xs">
        <div class="px-3 py-1 bg-pink-900/30 border border-pink-700/50 rounded-full">
            <span class="text-pink-300">üöÄ API Ready</span>
        </div>
        <div class="px-3 py-1 bg-purple-900/30 border border-purple-700/50 rounded-full">
            <span class="text-purple-300">üîó HF.Space Hosted</span>
        </div>
    </div>
</div>

<!-- API Endpoint Showcase -->
<div class="mb-8">
    <div class="bg-gray-800/50 border border-gray-700 rounded-xl p-6">
        <div class="flex items-center justify-between mb-4">
            <h2 class="text-lg font-bold text-white flex items-center gap-2">
                <span class="material-icons text-pink-400">api</span>
                API Endpoint
            </h2>
            <div class="flex items-center gap-2">
                <span class="text-xs px-2 py-1 bg-green-500/20 text-green-400 rounded-full">GET</span>
                <span class="text-xs px-2 py-1 api-badge text-white rounded-full">Active</span>
            </div>
        </div>
        
        <div class="space-y-4">
            <!-- Main Endpoint -->
            <div class="bg-gray-900 rounded-lg p-4 border border-gray-700">
                <div class="flex items-center gap-2 mb-2">
                    <span class="material-icons text-green-400 text-sm">link</span>
                    <span class="text-xs font-medium text-slate-300">Primary Endpoint</span>
                </div>
                <code class="text-sm font-mono text-white bg-gray-800 px-3 py-2 rounded block overflow-x-auto">
                    <span class="text-green-400">GET</span> https://FarelDeveloper-brat.hf.space/api?text=<span class="text-yellow-300">your_text_here</span>
                </code>
            </div>
            
            <!-- Example Usage -->
            <div class="bg-gray-900 rounded-lg p-4 border border-gray-700">
                <div class="flex items-center gap-2 mb-2">
                    <span class="material-icons text-blue-400 text-sm">code</span>
                    <span class="text-xs font-medium text-slate-300">Example Request</span>
                </div>
                <code class="text-sm font-mono text-blue-300 bg-gray-800 px-3 py-2 rounded block overflow-x-auto">
                    https://FarelDeveloper-brat.hf.space/api?text=Hello+Brat
                </code>
                <p class="text-xs text-slate-400 mt-2">Returns: Brat character image based on text input</p>
            </div>
            
            <!-- Response Info -->
            <div class="grid grid-cols-2 gap-3">
                <div class="bg-gray-900 rounded-lg p-3 border border-gray-700">
                    <div class="text-xs text-slate-400 mb-1">Response Type</div>
                    <div class="text-sm text-green-400 font-medium">Image/PNG</div>
                </div>
                <div class="bg-gray-900 rounded-lg p-3 border border-gray-700">
                    <div class="text-xs text-slate-400 mb-1">Status</div>
                    <div class="text-sm text-yellow-400 font-medium">Always 200</div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Generator Section -->
<div class="mb-8">
    <div class="generator-box rounded-xl p-6">
        <div class="text-center mb-6">
            <h2 class="text-xl font-bold text-white mb-2">Try the Generator</h2>
            <p class="text-slate-300/80 text-sm">Test the API directly from here</p>
        </div>
        
        <!-- Generator Form -->
        <div class="mb-6">
            <form id="generator-form" onsubmit="generateBratImage(event)">
                <div class="mb-4">
                    <label class="block text-sm font-medium text-slate-300 mb-2">
                        <span class="material-icons text-xs align-middle mr-1">edit</span>
                        Input Text
                    </label>
                    <div class="relative">
                        <input 
                            type="text" 
                            id="text-input" 
                            name="text" 
                            class="w-full px-4 py-3 border-2 border-pink-500/30 bg-gray-800 text-white placeholder:text-slate-500 rounded-lg focus:outline-none focus:border-pink-500 text-sm"
                            placeholder="Enter text for Brat image..."
                            required
                            autofocus
                        >
                        <div class="absolute right-3 top-1/2 transform -translate-y-1/2">
                            <span class="material-icons text-pink-400">create</span>
                        </div>
                    </div>
                </div>
                
                <button 
                    type="submit" 
                    id="generate-btn"
                    class="w-full bg-gradient-to-r from-pink-600 to-purple-600 hover:from-pink-500 hover:to-purple-500 text-white font-bold py-3 px-6 rounded-lg transition-all duration-300 transform hover:scale-[1.02] flex items-center justify-center gap-3 text-sm"
                >
                    <span id="btn-text">üõ©Ô∏è Generate Image</span>
                    <span id="btn-icon" class="material-icons text-lg">bolt</span>
                </button>
            </form>
        </div>
        
        <!-- Quick Examples -->
        <div class="mb-4">
            <p class="text-xs text-slate-400 mb-2">Quick examples:</p>
            <div class="flex flex-wrap gap-2">
                <button onclick="setExample('Hello Brat')" class="px-3 py-1.5 text-xs bg-pink-900/40 hover:bg-pink-800/50 text-pink-300 rounded-lg border border-pink-700/40 transition-colors">Hello Brat</button>
                <button onclick="setExample('Cool Brat')" class="px-3 py-1.5 text-xs bg-purple-900/40 hover:bg-purple-800/50 text-purple-300 rounded-lg border border-purple-700/40 transition-colors">Cool Brat</button>
                <button onclick="setExample('Anime Style')" class="px-3 py-1.5 text-xs bg-blue-900/40 hover:bg-blue-800/50 text-blue-300 rounded-lg border border-blue-700/40 transition-colors">Anime Style</button>
                <button onclick="setExample('Generator')" class="px-3 py-1.5 text-xs bg-green-900/40 hover:bg-green-800/50 text-green-300 rounded-lg border border-green-700/40 transition-colors">Generator</button>
            </div>
        </div>
    </div>
</div>

<!-- Response Section -->
<div id="response-section" class="hidden mb-8">
    <div class="bg-gray-800 border border-gray-700 rounded-xl overflow-hidden">
        <!-- Header -->
        <div class="bg-gradient-to-r from-pink-900/50 to-purple-900/50 p-4 border-b border-gray-700">
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-2">
                    <span class="material-icons text-green-400">image</span>
                    <h3 class="font-bold text-white">Generated Image</h3>
                </div>
                <div class="flex items-center gap-2">
                    <div class="relative">
                        <div class="absolute inset-0 bg-green-500 rounded-full opacity-20 pulse-ring"></div>
                        <span class="text-xs px-2 py-1 bg-green-500/20 text-green-400 rounded-full relative">Success</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Image Preview -->
        <div class="p-6">
            <div class="mb-6">
                <div class="relative rounded-xl overflow-hidden border-2 border-pink-500/30 bg-gray-900">
                    <div id="image-preview" class="aspect-video flex items-center justify-center bg-gradient-to-br from-gray-900 to-gray-800">
                        <!-- Image will appear here -->
                    </div>
                    <div class="absolute bottom-4 right-4 flex gap-2">
                        <button 
                            onclick="copyImageUrl()"
                            class="bg-gray-800 hover:bg-gray-700 text-white p-2 rounded-full border border-gray-700 transition-colors"
                            title="Copy Image URL"
                        >
                            <span class="material-icons text-sm">content_copy</span>
                        </button>
                        <button 
                            id="download-btn"
                            class="bg-pink-600 hover:bg-pink-500 text-white p-2 rounded-full transition-colors"
                            title="Download Image"
                        >
                            <span class="material-icons text-sm">download</span>
                        </button>
                        <button 
                            onclick="shareImage()"
                            class="bg-blue-600 hover:bg-blue-500 text-white p-2 rounded-full transition-colors"
                            title="Share Image"
                        >
                            <span class="material-icons text-sm">share</span>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- API Info -->
            <div class="space-y-4">
                <div class="bg-gray-900 rounded-lg p-4">
                    <div class="flex items-center gap-2 mb-2">
                        <span class="material-icons text-blue-400 text-sm">public</span>
                        <span class="text-xs font-medium text-slate-300">API Request URL</span>
                    </div>
                    <div class="relative">
                        <code class="text-xs font-mono text-green-300 break-all bg-gray-800 px-3 py-2 rounded block pr-10" id="api-url">
                            https://FarelDeveloper-brat.hf.space/api?text=Hello+Brat
                        </code>
                        <button 
                            onclick="copyApiUrl()"
                            class="absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white"
                            title="Copy URL"
                        >
                            <span class="material-icons text-sm">content_copy</span>
                        </button>
                    </div>
                </div>
                
                <div class="grid grid-cols-2 gap-3">
                    <div class="bg-gray-900 rounded-lg p-3">
                        <div class="text-xs text-slate-400 mb-1">Endpoint</div>
                        <div class="text-sm text-pink-400 font-medium">/api?text=</div>
                    </div>
                    <div class="bg-gray-900 rounded-lg p-3">
                        <div class="text-xs text-slate-400 mb-1">Host</div>
                        <div class="text-sm text-blue-400 font-medium">hf.space</div>
                    </div>
                </div>
                
                <!-- Code Examples -->
                <div class="bg-gray-900 rounded-lg p-4">
                    <div class="flex items-center gap-2 mb-3">
                        <span class="material-icons text-yellow-400 text-sm">code</span>
                        <span class="text-xs font-medium text-slate-300">Code Examples</span>
                    </div>
                    <div class="space-y-3">
                        <!-- JavaScript -->
                        <div>
                            <div class="text-xs text-slate-400 mb-1">JavaScript Fetch</div>
                            <code class="text-xs font-mono text-blue-300 bg-gray-800 px-3 py-2 rounded block overflow-x-auto">
fetch('https://FarelDeveloper-brat.hf.space/api?text=Brat+Image')
</code>
                        </div>
                        
                        <!-- cURL -->
                        <div>
                            <div class="text-xs text-slate-400 mb-1">cURL</div>
                            <code class="text-xs font-mono text-green-300 bg-gray-800 px-3 py-2 rounded block overflow-x-auto" id="curl-command">
curl -X GET "https://FarelDeveloper-brat.hf.space/api?text=Brat+Image"
                            </code>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- API Documentation -->
<div class="mb-8">
    <div class="bg-gray-800/50 border border-gray-700 rounded-xl p-6">
        <h2 class="text-lg font-bold text-white mb-4 flex items-center gap-2">
            <span class="material-icons text-pink-400">description</span>
            API Documentation
        </h2>
        
        <div class="space-y-4">
            <div class="space-y-2">
                <h3 class="text-sm font-medium text-slate-300">Base URL</h3>
                <code class="text-sm font-mono text-white bg-gray-900 px-3 py-2 rounded block">
                    https://FarelDeveloper-brat.hf.space
                </code>
            </div>
            
            <div class="space-y-2">
                <h3 class="text-sm font-medium text-slate-300">Endpoint</h3>
                <code class="text-sm font-mono text-white bg-gray-900 px-3 py-2 rounded block">
                    GET /api?text={your_text}
                </code>
            </div>
            
            <div class="space-y-2">
                <h3 class="text-sm font-medium text-slate-300">Parameters</h3>
                <div class="bg-gray-900 rounded-lg p-3">
                    <div class="grid grid-cols-3 gap-2 text-xs border-b border-gray-800 pb-2 mb-2">
                        <div class="font-medium text-slate-300">Parameter</div>
                        <div class="font-medium text-slate-300">Type</div>
                        <div class="font-medium text-slate-300">Required</div>
                    </div>
                    <div class="grid grid-cols-3 gap-2 text-xs">
                        <div class="text-green-400">text</div>
                        <div class="text-blue-400">String</div>
                        <div class="text-yellow-400">Yes</div>
                    </div>
                </div>
            </div>
            
            <div class="space-y-2">
                <h3 class="text-sm font-medium text-slate-300">Response</h3>
                <div class="bg-gray-900 rounded-lg p-3">
                    <div class="text-xs text-slate-400 mb-1">Content-Type: image/png</div>
                    <div class="text-xs text-slate-400">Returns PNG image of Brat character</div>
                </div>
            </div>
        </div>
    </div>
</div>

<footer class="text-center">
    <p class="text-slate-400 text-xs mb-4">
        Farel-Brat API ‚Ä¢ Hosted on Hugging Face Spaces
    </p>
    <p class="text-slate-400 text-xs">
        Endpoint: <code class="text-pink-300">https://FarelDeveloper-brat.hf.space/api?text=</code>
    </p>
</footer>
</main>

<script>
    // API Configuration
    const API_BASE_URL = 'https://FarelDeveloper-brat.hf.space';
    const API_ENDPOINT = '/api';
    
    let currentImageUrl = '';
    let currentApiUrl = '';
    
    // Set example text
    function setExample(text) {
        document.getElementById('text-input').value = text;
        document.getElementById('text-input').focus();
    }
    
    // Generate Brat Image
    async function generateBratImage(event) {
        event.preventDefault();
        
        const textInput = document.getElementById('text-input').value.trim();
        if (!textInput) {
            alert('Please enter some text');
            return;
        }
        
        const generateBtn = document.getElementById('generate-btn');
        const btnText = document.getElementById('btn-text');
        const btnIcon = document.getElementById('btn-icon');
        const responseSection = document.getElementById('response-section');
        
        // Disable button and show loading
        generateBtn.disabled = true;
        btnText.textContent = 'Generating...';
        btnIcon.textContent = 'üõ©Ô∏è';
        btnIcon.classList.add('plane-animation');
        
        // Show response section
        responseSection.classList.remove('hidden');
        
        // Hide any previous images
        const imagePreview = document.getElementById('image-preview');
        imagePreview.innerHTML = '<div class="loader"></div>';
        
        // Build API URL
        const encodedText = encodeURIComponent(textInput);
        currentApiUrl = `${API_BASE_URL}${API_ENDPOINT}?text=${encodedText}`;
        
        // Update displayed URLs
        document.getElementById('api-url').textContent = currentApiUrl;
        document.getElementById('curl-command').textContent = `curl -X GET "${currentApiUrl}"`;
        
        try {
            // For demo purposes, we'll simulate API call
            // In production, use actual fetch to the API
            
            // Simulate API delay
            await new Promise(resolve => setTimeout(resolve, 2000));
            
            // Generate mock image URL (replace with actual API response)
            // This is just for demonstration - replace with actual API call
            const mockImageUrl = `${API_BASE_URL}${API_ENDPOINT}?text=${encodedText}`;
            currentImageUrl = mockImageUrl;
            
            // Display the image
            imagePreview.innerHTML = `
                <img src="${mockImageUrl}" 
                     alt="Brat: ${textInput}" 
                     class="w-full h-full object-contain"
                     onload="this.style.opacity='1'"
                     style="transition: opacity 0.3s; opacity: 0;">
            `;
            
            // Enable download button
            const downloadBtn = document.getElementById('download-btn');
            downloadBtn.onclick = () => downloadImage(mockImageUrl, textInput);
            
            // Show success notification
            showNotification('Image generated successfully!', 'success');
            
        } catch (error) {
            console.error('Generation error:', error);
            imagePreview.innerHTML = `
                <div class="text-center p-6">
                    <span class="material-icons text-red-400 text-4xl mb-3">error</span>
                    <p class="text-red-300 text-sm">Failed to generate image</p>
                    <p class="text-red-300/70 text-xs mt-1">${error.message}</p>
                </div>
            `;
            
            showNotification('Failed to generate image', 'error');
        } finally {
            // Reset button state
            generateBtn.disabled = false;
            btnText.textContent = 'üõ©Ô∏è Generate Image';
            btnIcon.textContent = 'bolt';
            btnIcon.classList.remove('plane-animation');
        }
    }
    
    // Download image
    function downloadImage(url, text) {
        const filename = `Farel-brat-${Date.now()}-${text.replace(/[^a-z0-9]/gi, '-').toLowerCase()}.png`;
        
        fetch(url)
            .then(response => response.blob())
            .then(blob => {
                const link = document.createElement('a');
                link.href = URL.createObjectURL(blob);
                link.download = filename;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                
                showNotification('Image downloaded!', 'success');
            })
            .catch(error => {
                console.error('Download error:', error);
                showNotification('Download failed', 'error');
            });
    }
    
    // Copy image URL
    function copyImageUrl() {
        if (!currentImageUrl) return;
        
        navigator.clipboard.writeText(currentImageUrl)
            .then(() => {
                showNotification('Image URL copied!', 'success');
            })
            .catch(err => {
                console.error('Copy failed:', err);
                showNotification('Copy failed', 'error');
            });
    }
    
    // Copy API URL
    function copyApiUrl() {
        if (!currentApiUrl) return;
        
        navigator.clipboard.writeText(currentApiUrl)
            .then(() => {
                showNotification('API URL copied!', 'success');
            })
            .catch(err => {
                console.error('Copy failed:', err);
                showNotification('Copy failed', 'error');
            });
    }
    
    // Share image
    function shareImage() {
        if (!currentImageUrl) return;
        
        if (navigator.share) {
            navigator.share({
                title: 'Farel-Brat Image',
                text: 'Check out this Brat character image!',
                url: currentImageUrl
            })
            .then(() => showNotification('Shared successfully!', 'success'))
            .catch(err => console.error('Share error:', err));
        } else {
            copyImageUrl();
        }
    }
    
    // Show notification
    function showNotification(message, type = 'info') {
        // Create notification element
        const notification = document.createElement('div');
        notification.className = `fixed top-4 right-4 z-50 px-4 py-3 rounded-lg shadow-lg border transform translate-x-full transition-transform duration-300 ${
            type === 'success' ? 'bg-green-900/90 border-green-700 text-green-200' :
            type === 'error' ? 'bg-red-900/90 border-red-700 text-red-200' :
            'bg-blue-900/90 border-blue-700 text-blue-200'
        } text-sm font-medium`;
        
        notification.innerHTML = `
            <div class="flex items-center gap-2">
                <span class="material-icons text-sm">${
                    type === 'success' ? 'check_circle' :
                    type === 'error' ? 'error' : 'info'
                }</span>
                <span>${message}</span>
            </div>
        `;
        
        document.body.appendChild(notification);
        
        // Animate in
        setTimeout(() => {
            notification.classList.remove('translate-x-full');
            notification.classList.add('translate-x-0');
        }, 10);
        
        // Remove after 3 seconds
        setTimeout(() => {
            notification.classList.remove('translate-x-0');
            notification.classList.add('translate-x-full');
            setTimeout(() => {
                document.body.removeChild(notification);
            }, 300);
        }, 3000);
    }
    
    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
        // Set default example
        setExample('Hello Brat');
        
        // Focus on input
        document.getElementById('text-input').focus();
        
        // Add event listener for Enter key
        document.getElementById('text-input').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                e.preventDefault();
                document.getElementById('generator-form').dispatchEvent(new Event('submit'));
            }
        });
    });
</script>

</body>
</html>
